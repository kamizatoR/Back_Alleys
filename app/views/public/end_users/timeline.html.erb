<div class="container">
  <%= render 'timeline_header', end_user: @end_user %>

  <div class="row mt-2">

    <% @end_user_posts.each do |post| %>
      <% if post.end_user.is_deleted != true %>
      <div class="col-4 h75">
        <div class="card my-3 vh75">

          <% if post.image.attached? %>

            <%= link_to post_path(post.end_user.display_name, post.id), class: "text-decoration-none text-dark"  do %>

              <div class="card-body h-200">
                <p class="card-title"></p>

                <%= image_tag post.image, size: "171x130" %>

                <p class="card-title"> <%= truncate(post.body, length: 26) %></p>

              </div>
              <div class="card-body text-right">
                <p class="card-text text-"><i class="fas fa-comment"></i> <%= post.comments.count %> <i class="fas fa-solid fa-heart ml-3"></i> <%= post.likes.count %></p>
              </div>

            <% end %>

        <% else %>

            <%= link_to post_path(post.end_user.display_name, post.id), class: "text-decoration-none text-dark"  do %>
              <div class="card-body h-200 ">
                <p class="card-title"> <%= truncate(post.body, length: 78) %></p>
              </div>
              <div class="card-body text-right">
                <p class="card-text text-"><i class="fas fa-comment"></i> <%= post.comments.count %> <i class="fas fa-solid fa-heart ml-3"></i> <%= post.likes.count %></p>
              </div>
            <% end %>

        <% end %>
        </div>
      </div>
      <% end %>
    <% end %>

  </div>

  <div class="row mt-5 d-flex justify-content-center">
    <%= paginate @end_user_posts %>
  </div>

</div>