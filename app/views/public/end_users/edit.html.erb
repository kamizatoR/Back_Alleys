<%= render 'public/errors/error_display', model: @end_user %>

<h1 class="text-center my-4">情報編集</h1>

<div class="container mt-lg-5">
  <%= form_with model: @end_user, url: update_mypage_path do |f| %>

    <div class="row mx-lg-4 mb-lg-3 px-lg-5 ">
      <p class="mr-lg-2">プロフィール画像</p>
      <%= f.file_field :image, accept: "image/*" %>
    </div>

    <div class="row mx-lg-4 mb-lg-3 px-lg-5 ">
      <%= f.label  "表示名", class: "col-form-label col-lg-3"  %>
      <%= f.text_field :display_name, autofocus: true, class: " ml-lg-3 col-lg-8 form-control"  %>
    </div>

    <div class="row mx-lg-3 mb-lg-3 px-lg-5 justify-content-around ">
      <%= f.label  "名前", class: "col-form-label col-lg-3"  %>
      <%= f.text_field :first_name, placeholder: "性", class: " form-control col-lg-4 "  %>
      <%= f.text_field :last_name, placeholder: "名", class: " form-control col-lg-4 mt-2 mt-lg-0"  %>
    </div>

    <div class="row mx-lg-3 mb-lg-3 px-lg-5 justify-content-around ">
      <%= f.label  "フリガナ", class: "col-form-label col-lg-3" %>
      <%= f.text_field :first_kana, placeholder: "セイ", class: "form-control col-lg-4"  %>
      <%= f.text_field :last_kana, placeholder: "メイ", class: "form-control col-lg-4 mt-2 mt-lg-0" %>
    </div>

    <div class="row mx-lg-3 mb-lg-3 px-lg-5 justify-content-around ">
      <%= f.label  "メールアドレス", class: "col-form-label col-lg-3" %>
      <%= f.email_field :email, placeholder: "sample@example.com", autocomplete: "email", class: "form-control col-lg-8 mr-lg-3" %>
    </div>

    <div class="row mx-lg-3 mt-3 mt-lg-5 mb-lg-0 px-lg-5 justify-content-around ">
      <%= f.submit "編集内容を保存", class: "btn btn-outline-success col-lg-4 col-5 btn-small " %>

      <% if current_end_user.display_name.present? %>
        <%= link_to unsubscribe_path(@end_user.display_name), class: "btn btn-outline-danger col-lg-4 col-5 btn-small" do %>
          退会する <i class="fa-solid fa-user-minus"></i>
        <% end %>
      <% end %>

    </div>

  <% end %>

</div>